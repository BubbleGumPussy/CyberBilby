<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>How to have more than one script in a Svelte component | Cyber Bilby</title>

      <link rel="stylesheet" href="/css/main.min.3294ad3beeff9053b4c3d95ebab7969b1dac8c8d51dd5989c6b971dd870642f9.css" integrity="sha256-MpStO&#43;7/kFO0w9leureWmx2sjI1R3VmJxrlx3YcGQvk=" crossorigin="anonymous">

<link rel="icon" type="image/x-icon" href="/images/bilby.png">

</head>
<body>
    <div class="main">
        <header>
        
<a href="/" class="site-logo">
    <img src="/images/bilby.png" width="64px" height="64px"/>
    <div>Cyber Bilby</div>
</a>




<nav>
    <ul class="sidebar-menu">
        

            <li class="sidebar-menu-item">
                <a href="/" class="">
                    Home
                </a>
            </li>
        

            <li class="sidebar-menu-item">
                <a href="/posts/" class="ancestor">
                    Posts
                </a>
            </li>
        
    </ul>
</nav>

        </header>
        <main>
        
    <div class="post-container">
        <div class="post-header-container" style="background-image: url('./static/featured.png');">
            <div class="post-header" >
                <div class="post-title">How to have more than one script in a Svelte component</div>
    
                



    
        <div class="post-author">
            <img src="/images/lewis.jpg"/>
            <div>
                <div>Lewis Parmenter</div>
                <div class="post-date">
                    <time datetime="2024-10-11T13:22:42&#43;11:00">October 11, 2024</time>
                </div>
            </div>
        </div>
    

                
                
  <div>
    <ul class="tags">
        <li><a href="/tags/svelte/">svelte</a></li>
        <li><a href="/tags/javascript/">javascript</a></li>
        <li><a href="/tags/typescript/">typescript</a></li>
        <li><a href="/tags/web/">web</a></li>
    </ul>
  </div>

            </div>
        </div>

        <div style="display: flex; flex-direction: row">
            <nav class="post-menu">
                
                

                
                
                
                
                
                

                
                
                
                
                
                

                
                
                
                
                
                
                

                
                
                
                
                
                

                
                
                
                
                
                
                

                
                
                
                
                
                

                
                
                <ul>
                    <h2>
                        Table of Contents
                    </h2>
                
                    
                    
                        <li class="post-toc-2">
                            <a href="#a-component-can-only-have-one-instance-level-script-element">A component can only have one instance-level &lt;script&gt; element</a>
                        </li>
                    
                
                    
                    
                        <li class="post-toc-3">
                            <a href="#but-what-if-i-want-to-include-external-scripts">But what if I want to include external scripts?</a>
                        </li>
                    
                
                    
                    
                        <li class="post-toc-2">
                            <a href="#rendering-in-the-browser">Rendering in the Browser</a>
                        </li>
                    
                
                </ul>
            </nav>

            <div class="post-content">
                
<!-- end-chunk -->
<!-- begin-chunk data-anchor="a-component-can-only-have-one-instance-level-script-element" data-heading="A component can only have one instance-level &lt;script&gt; element" data-level="2" data-permalink="https://cyberbilby.com/posts/svelte-component-only-one-instance-level/" data-title="How to have more than one script in a Svelte component" -->
<h2 id="a-component-can-only-have-one-instance-level-script-element">A component can only have one instance-level &lt;script&gt; element</h2><p>While you are learning how to use Svelte you may have run into this error and are scratching your head on what this even means.</p>
<p>When your component is created by Svelte (instantiated) it looks for the script area to execute. This happens on the server when a user requests the page for the first time (server-side rendering). Svelte requires that there is only one script tag in your component so there is no confusion on what script to run.</p>

<!-- end-chunk -->
<!-- begin-chunk data-anchor="but-what-if-i-want-to-include-external-scripts" data-heading="But what if I want to include external scripts?" data-level="3" data-permalink="https://cyberbilby.com/posts/svelte-component-only-one-instance-level/" data-title="How to have more than one script in a Svelte component" -->
<h3 id="but-what-if-i-want-to-include-external-scripts">But what if I want to include external scripts?</h3><p>You can add the scripts to the page template (app.html), however what only want to include those scripts in a single page?</p>
<p>There is a solution for this, you can import a flag from the app environment that will tell you if you currently running in the browser context or the server context.</p>

<!-- end-chunk -->
<!-- begin-chunk data-anchor="rendering-in-the-browser" data-heading="Rendering in the Browser" data-level="2" data-permalink="https://cyberbilby.com/posts/svelte-component-only-one-instance-level/" data-title="How to have more than one script in a Svelte component" -->
<h2 id="rendering-in-the-browser">Rendering in the Browser</h2><p>To import the browser you need to add this import to your script section.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">browser</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;$app/environment&#34;</span>;
</span></span></code></pre></div><p>To use this flag you can wrap the script tags you want to include like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{#if browser}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;module&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cyberbilby.com/static/mod.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>{/if}
</span></span></code></pre></div><p>This will solve the error by checking if the component is rendering in the browser context, then include the script in the page.</p>

            </div>
        </div>
    </div>

        </main>
    </div>
    <footer>
    <p>Copyright &copy; 2024. Cyber Bilby</p>

    </footer>
</body>
</html>
